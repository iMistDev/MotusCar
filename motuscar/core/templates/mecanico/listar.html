{% extends 'agenda/base.html' %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2><i class="fas fa-tools me-2"></i>Mec치nicos registrados</h2>
    <a href="{% url 'crear_mecanico' %}" class="btn btn-primary">
        <i class="fas fa-plus me-1"></i> Nuevo Mec치nico
    </a>
</div>

<div class="table-responsive">
    <table class="table table-hover align-middle">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Especialidad</th>
                <th>Regi칩n / Comuna</th>
                <th>Correo</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for m in mecanicos %}
            <tr>
                <td>
                    <strong>{{ m.user.first_name|title }} {{ m.user.last_name|title }}</strong>
                </td>
                <td>
                    <span class="badge bg-secondary">{{ m.get_especialidad_display }}</span>
                </td>
                <td>
                    {{ m.get_region_display }}<br><small class="text-muted">{{ m.comuna }}</small>
                </td>
                <td>{{ m.user.email }}</td>
                <td>
                    <a href="{% url 'editar_mecanico' m.id %}" class="btn btn-sm btn-outline-primary me-1" title="Editar">
                        <i class="fas fa-edit"></i>
                    </a>
                    <a href="{% url 'eliminar_mecanico' m.id %}" class="btn btn-sm btn-outline-danger" title="Eliminar">
                        <i class="fas fa-trash-alt"></i>
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" class="text-center py-4">
                    <i class="fas fa-user-slash fa-2x mb-2 text-muted"></i>
                    <p class="text-muted">No hay mec치nicos registrados.</p>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}

